# dscrobbler
This project was created for private purpose of scrobbling (to last.fmn) albums through Deezer api. The standard Deezer last.fm scrobbler has problems with artist name, especially this is the case with classical music, when many tracks have different performers. To solve this problem I writed this app, otherwise scrobbles required heavy editing.

How it works:
- first of all you need api keys both for last.fm and deezer, for deezer api key and secret key, then session key is generated automatically by app. With last.fm the session key must be generated manually, because comeback call (&cb param) doesn't work. First of all you need apiKey and apiSecret, then two additional steps are needed to generate sessionKey and put it in configuration file (services.yml). When you use app route "lastfm/connect" the app check if session key is in the file, if yes, it will display scrobble form. If not, two links are generated to genereate session key, but as it was said before, api and secret keys must be first in the conf file. First you click the first link (open it in new tab), do what is displayed on screen (authorize, etc) and after that click quickly the second link (there is limited time to do this). Then in the params of the second link you have session key. Put it in the conf file. That's all.
- if everything is ok with configuration click once again "lastfm/connect" and the scrobble form should be displayed. Enter Deezer ID album, click "Load album" button, the artist name and album name will be retrieved from Deezer. If necessary edit them and enter track range. If you enter just one number one track will be scrobbled, if you want more, enter something like (for example): 1-14 and these tracks will be scrobbled. Refresh your last.fm page to check it. Also in developer console output array is displayed after the whole process. The one track is scrobbled in 2-3 seconds.

WARNING:
- vendor files for Lastfm and Deezer that I use in my project needed some minor editing, because they lacked proper functionality. So if you want this app to work, DON"T use composer to install/update anything, instead download the whole app as it is. (This is not ideal, in the future I will solve this in different way.)